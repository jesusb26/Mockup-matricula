<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mockup Matrícula e Inscripción</title>
  <!-- Bootstrap CSS -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.4.0/dist/css/bootstrap.min.css" 
    rel="stylesheet"
  />
</head>
<body>
  <div class="container py-5">
    <!-- Título -->
    <h1 class="mb-4">Matrícula e Inscripción</h1>

    <!-- 1) Lista de Asignaturas -->
    <div id="asignaturas-view">
      <h2>Asignaturas disponibles</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Asignatura</th>
            <th>Código</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody id="asignaturas-table">
          <!-- Se llena dinámicamente -->
        </tbody>
      </table>
    </div>

    <!-- 2) Lista de Cursos para la asignatura seleccionada -->
    <div id="cursos-view" class="d-none">
      <button class="btn btn-link mb-3" onclick="volver();">&larr; Volver a Asignaturas</button>
      <h2 id="curso-titulo">Cursos de [Asignatura]</h2>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Grupo</th>
            <th>Horario</th>
            <th>Cupos</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody id="cursos-table">
          <!-- Se llena dinámicamente -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Bootstrap JS & Popper -->
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.4.0/dist/js/bootstrap.bundle.min.js">
  </script>
  <script>
    // Simulación de datos
    const asignaturas = [
      { id: 1, nombre: 'Matemáticas I', codigo: 'MAT101' },
      { id: 2, nombre: 'Programación', codigo: 'INF201' },
      { id: 3, nombre: 'Física General', codigo: 'FIS101' }
    ];
    const cursos = {
      1: [
        { grupo: 'A', horario: 'Lun/Mié 8:00 - 10:00', inscritos: 15, capacidad: 20 },
        { grupo: 'B', horario: 'Mar/Jue 10:00 - 12:00', inscritos: 20, capacidad: 20 }
      ],
      2: [
        { grupo: 'A', horario: 'Lun/Mié 14:00 - 16:00', inscritos: 5, capacidad: 30 },
        { grupo: 'B', horario: 'Mar/Jue 16:00 - 18:00', inscritos: 30, capacidad: 30 }
      ],
      3: [
        { grupo: 'Único', horario: 'Vie 8:00 - 12:00', inscritos: 10, capacidad: 25 }
      ]
    };

    // Pinta la lista de asignaturas
    function cargarAsignaturas() {
      const tbody = document.getElementById('asignaturas-table');
      tbody.innerHTML = '';
      asignaturas.forEach(a => {
        tbody.innerHTML += `
          <tr>
            <td>${a.nombre}</td>
            <td>${a.codigo}</td>
            <td>
              <button
                class="btn btn-primary btn-sm"
                onclick="mostrarCursos(${a.id}, '${a.nombre}')"
              >
                Matricular
              </button>
            </td>
          </tr>`;
      });
    }

    // Muestra la vista de cursos para una asignatura
    function mostrarCursos(asigId, asigNombre) {
      document.getElementById('asignaturas-view').classList.add('d-none');
      document.getElementById('cursos-view').classList.remove('d-none');
      document.getElementById('curso-titulo').textContent = `Cursos de ${asigNombre}`;
      const tbody = document.getElementById('cursos-table');
      tbody.innerHTML = '';
      cursos[asigId].forEach(c => {
        tbody.innerHTML += `
          <tr>
            <td>${c.grupo}</td>
            <td>${c.horario}</td>
            <td>${c.inscritos}/${c.capacidad}</td>
            <td>
              <button
                class="btn btn-success btn-sm"
                ${c.inscritos >= c.capacidad ? 'disabled' : ''}
              >
                Inscribir
              </button>
            </td>
          </tr>`;
      });
    }

    // Volver al listado de asignaturas
    function volver() {
      document.getElementById('cursos-view').classList.add('d-none');
      document.getElementById('asignaturas-view').classList.remove('d-none');
    }

    // Inicialización
    document.addEventListener('DOMContentLoaded', cargarAsignaturas);
  </script>
</body>
</html>

